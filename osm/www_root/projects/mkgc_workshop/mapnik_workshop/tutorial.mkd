OSM Mapnik Stylesheet Editing Tutorial
======================================

# Description

These notes are designed to show a user how to modify a
mapnik xml stylesheet suitable for rendering in any program
that uses mapnik as rendering engine (e.g. nik2img, mod\_tile,
tilelite, tilestache, etc.)

The user will modify the a copy of the osm.xml stylesheet,
the base stylesheet for <http://openstreetmap.org>. 
**NOTE:** This stylesheet has been updated for mapnik2 syntax
using the `upgrade_map_xml.py` script. Please see <http://trac.mapnik.org/wiki/Mapnik2/Changes>
for a detailed explanation of differences between mapnik 0.7.x and mapnik2.

# Prequisites

# Instructions

## Copy osm2.xml

To begin modification of the stylesheet, create a working copy of it.

    $ cp /path/to/repo/mkgc_workshop/mapnik_workshop/styles/workshop/osm2.xml workshop.xml

## Truncate workshop.xml

We will remove all styles and layers from the copy, creating a base
to re-add only those layers which we wish to render. We will use VIM
to perform this operation. However, you can use any text editor.

As an alternative (and maybe faster/cleaner) workflow, you can start
from a blank stylesheet.

    $ vim workshop.xml

Create a mapping on the `z` key which will recursively delete all
occurances of the `<Style>` tag along with their contents, including
nested tags.

    :map z /<Style name/ <Esc> dat jz

Press `z` to execute your keymapping. All `<Style>` elements should
now be deleted from the document. Now we're going to repeat the process
for `<Layer>` elements **NOTE:** I had to run this key mapping several
times to delete all instances of the `<Layer>` tag.

    :map z /<Layer name/ <Esc> dat jz

Remove all lines which are pure whitespace

    :g/^\s*$/d


